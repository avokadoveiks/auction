# üè† –°–∏—Å—Ç–µ–º–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏

## –û–ø–∏—Å–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –ø–∞—Å—Å–∏–≤–Ω–æ–≥–æ –¥–æ—Ö–æ–¥–∞ –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ—Å—Ç–∏–≥–ª–∏ 500 —É—Å–ø–µ—à–Ω—ã—Ö —Å–¥–µ–ª–æ–∫.

## –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
- **500 —É—Å–ø–µ—à–Ω—ã—Ö —Å–¥–µ–ª–æ–∫** (–ø–æ–±–µ–¥ –≤ –∞—É–∫—Ü–∏–æ–Ω–∞—Ö)

### –¢–∏–ø—ã –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏

| –û–±—ä–µ–∫—Ç | –°—Ç–æ–∏–º–æ—Å—Ç—å | –î–æ—Ö–æ–¥ | –ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å |
|--------|-----------|-------|---------------|
| üõèÔ∏è –ö–æ–º–Ω–∞—Ç–∞ | 1000 üí∞ | +25 üí∞ | –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤ |
| üè† –ö–≤–∞—Ä—Ç–∏—Ä–∞ | 3000 üí∞ | +100 üí∞ | –∫–∞–∂–¥—ã–µ 12 —á–∞—Å–æ–≤ |
| üè° –î–æ–º | 8000 üí∞ | +350 üí∞ | –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞ |

### –§—É–Ω–∫—Ü–∏–∏

1. **–ü–æ–∫—É–ø–∫–∞**: –ò–≥—Ä–æ–∫ –º–æ–∂–µ—Ç –∫—É–ø–∏—Ç—å –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–æ—Ö–æ–¥**: –ü—Ä–∏–±—ã–ª—å –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ —Ç–∞–π–º–µ—Ä—É
3. **–°–±–æ—Ä –ø—Ä–∏–±—ã–ª–∏**: –ò–≥—Ä–æ–∫ –º–æ–∂–µ—Ç —Å–æ–±—Ä–∞—Ç—å –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–π –¥–æ—Ö–æ–¥ –≤—Ä—É—á–Ω—É—é
4. **–¢–∞–π–º–µ—Ä—ã**: –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç –≤—Ä–µ–º—è –¥–æ —Å–ª–µ–¥—É—é—â–µ–π –≤—ã–ø–ª–∞—Ç—ã
5. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**: –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Firebase/localStorage

## –§–∞–π–ª—ã

- `realestate-system.js` - –ª–æ–≥–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
- `realestate-ui.js` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
- `realestate.css` - —Å—Ç–∏–ª–∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –í –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é (index.html)
```html
<button id="realestateBtn">üè† –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</button>
```

### –í –∏–≥—Ä–µ (v1.js)
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–ø–∏—Å—å —É—Å–ø–µ—à–Ω—ã—Ö —Å–¥–µ–ª–æ–∫ –ø—Ä–∏ –ø–æ–±–µ–¥–µ –≤ –∞—É–∫—Ü–∏–æ–Ω–µ:
```javascript
if (window.RealEstateSystem) {
  const rs = new window.RealEstateSystem();
  rs.recordDeal(account);
}
```

## API

### RealEstateSystem

#### –ú–µ—Ç–æ–¥—ã:
- `loadState(player)` - –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
- `saveState(player, state)` - —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- `isUnlocked(state)` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫—É
- `buyProperty(player, balance, propertyId)` - –∫—É–ø–∏—Ç—å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å
- `calculateIncome(state, propertyId)` - —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–π –¥–æ—Ö–æ–¥
- `collectIncome(player, balance, propertyId)` - —Å–æ–±—Ä–∞—Ç—å –¥–æ—Ö–æ–¥
- `collectAllIncome(player, balance)` - —Å–æ–±—Ä–∞—Ç—å –≤–µ—Å—å –¥–æ—Ö–æ–¥
- `recordDeal(player)` - –∑–∞–ø–∏—Å–∞—Ç—å —É—Å–ø–µ—à–Ω—É—é —Å–¥–µ–ª–∫—É
- `getSummary(player, balance)` - –ø–æ–ª—É—á–∏—Ç—å —Å–≤–æ–¥–∫—É –¥–ª—è UI

### –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ UI:
- `window.openRealEstate()` - –æ—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
- `window.buyRealEstateProperty(propertyId)` - –∫—É–ø–∏—Ç—å –æ–±—ä–µ–∫—Ç
- `window.collectRealEstateIncome(propertyId)` - —Å–æ–±—Ä–∞—Ç—å –¥–æ—Ö–æ–¥ —Å –æ–±—ä–µ–∫—Ç–∞
- `window.collectAllRealEstateIncome()` - —Å–æ–±—Ä–∞—Ç—å –≤–µ—Å—å –¥–æ—Ö–æ–¥

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### Safe-area support
–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É—á–∏—Ç—ã–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–æ–Ω—ã iPhone (notch) —á–µ—Ä–µ–∑ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
```css
padding-left: max(12px, env(safe-area-inset-left), var(--safe-left));
```

### –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤
- –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è landscape –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è iPhone landscape (–≤—ã—Å–æ—Ç–∞ < 540px)

### –ê–Ω–∏–º–∞—Ü–∏–∏
- Fade-in –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ (0.3s)
- Scale —ç—Ñ—Ñ–µ–∫—Ç –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
- –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –¥–ª—è –∫–Ω–æ–ø–æ–∫
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π –ø–æ—è–≤–ª–µ–Ω–∏—è/–∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è

### –¢–∞–π–º–µ—Ä—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ (—á–∞—Å—ã, –º–∏–Ω—É—Ç—ã)
- –ò–Ω–¥–∏–∫–∞—Ü–∏—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Å–±–æ—Ä–∞ (‚úÖ)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### PlayerData –≤ Firebase/localStorage
```json
{
  "successfulDeals": 523,
  "owned": {
    "room": 2,
    "apartment": 1,
    "house": 0
  },
  "lastCollection": {
    "room": 1730000000000,
    "apartment": 1730000000000
  }
}
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í–∞–ª–∏–¥–∞—Ü–∏—è –±–∞–ª–∞–Ω—Å–∞ –ø–µ—Ä–µ–¥ –ø–æ–∫—É–ø–∫–æ–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–µ—Ä–µ–¥ –¥–µ–π—Å—Ç–≤–∏—è–º–∏
- –ó–∞—â–∏—Ç–∞ –æ—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞
- Fallback –Ω–∞ localStorage –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Firebase

## TODO / –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –ê—á–∏–≤–º–µ–Ω—Ç—ã –∑–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤
- [ ] –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –±–æ–Ω—É—Å—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ 10 –¥–æ–º–æ–≤)
- [ ] –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è "–ø–æ—Ä—Ç—Ñ–µ–ª—è" –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±—â–µ–≥–æ –¥–æ—Ö–æ–¥–∞ –∑–∞ –≤—Å–µ –≤—Ä–µ–º—è
- [ ] –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–¥–∞–∂–∏ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
- [ ] –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∫–≤–µ—Å—Ç—ã –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
